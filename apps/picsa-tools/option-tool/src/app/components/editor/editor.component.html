<div class="dialog-content">
  <button class="saveButtonPosition" mat-button mat-raised-button (click)="submitForm()" color="primary">
    {{ 'Close' | translate }}
  </button>
  <mat-stepper [linear]="isLinear" #stepper>
    <!-- Practice -->
    <mat-step matStepContent>
      <ng-template matStepLabel>{{ 'Practice' | translate }}</ng-template>
      <div class="StepContainer">
        <div class="StepTitle">{{ 'Enter the practice for this option' | translate }}</div>
        <div class="StepContent">
          <div class="form-group">
            <label>{{ 'Practice' | translate }}</label>
            <input [(ngModel)]="practiceEntry" class="form-control" />
          </div>
          <div class="importantText">{{ '*This field is required' | translate }}</div>
        </div>
        <div>
          <button mat-raised-button color="primary" [disabled]="!practiceEntry" matStepperNext>
            {{ 'Next' | translate }}
          </button>
        </div>
        <button mat-stroked-button style="margin-top: 3em" (click)="promptDelete()" [disabled]="!practiceEntry">
          <mat-icon name="delete">delete</mat-icon> {{ 'Delete' | translate }}
        </button>
      </div>
    </mat-step>

    <!-- Who does it -->
    <mat-step matStepContent>
      <ng-template matStepLabel>{{ 'Gender' | translate }}</ng-template>
      <div class="StepContainer">
        <div class="StepTitle">{{ 'Who does the practice' | translate }}?</div>
        <div class="StepContent">
          <div class="genderDiv">
            <div
              class="genderType"
              style="color: #800080"
              (click)="handleGender('female')"
              [ngStyle]="{
                'background-color': gender.includes('female') ? 'wheat' : 'lightgray'
              }"
            >
              {{ 'Female' | translate }}
              <mat-icon svgIcon="picsa_options_female"></mat-icon>
            </div>
            <div
              class="genderType"
              (click)="handleGender('male')"
              style="color: #008066"
              [ngStyle]="{
                'background-color': gender.includes('male') ? 'wheat' : 'lightgray'
              }"
            >
              {{ 'Male' | translate }}
              <mat-icon svgIcon="picsa_options_male"></mat-icon>
            </div>
          </div>
          <div style="height: 1rem">
            {{ gender.length > 1 ? gender.join(' and ') : gender[0] }}
          </div>
        </div>
        <div class="ButtonSection">
          <button mat-button matStepperPrevious>{{ 'Back' | translate }}</button>
          <button mat-raised-button color="primary" [disabled]="!(gender.length > 0)" matStepperNext>
            {{ 'Next' | translate }}
          </button>
        </div>
      </div>
    </mat-step>

    <!-- Benefits -->
    <mat-step matStepContent>
      <ng-template matStepLabel>{{ 'Benefits' | translate }}</ng-template>
      <div class="StepContainer">
        <div class="StepTitle">{{ 'Benefits and who ' | translate }} ?</div>
        <div class="StepContent">
          <div style="margin-bottom: 1.5rem; padding: 2px; margin-top: 2rem">
            <div *ngFor="let benefit of benefits; index as i">
              <div style="display: flex; flex-direction: row; gap: 3px; padding-bottom: 3px">
                <textarea [(ngModel)]="benefit.benefit" class="form-control"></textarea>
                <div
                  class="genderType"
                  style="color: #800080; padding: 3px; height: 6rem"
                  (click)="handleBenficiaryGender(i, 'female')"
                  [ngStyle]="{
                    'background-color': benefit.beneficiary.includes('female') ? 'wheat' : 'lightgray'
                  }"
                >
                  {{ 'Female' | translate }}
                  <mat-icon svgIcon="picsa_options_female"></mat-icon>
                </div>
                <div
                  class="genderType"
                  (click)="handleBenficiaryGender(i, 'male')"
                  style="color: #008066; padding: 3px; height: 6rem"
                  [ngStyle]="{
                    'background-color': benefit.beneficiary.includes('male') ? 'wheat' : 'lightgray'
                  }"
                >
                  {{ 'Male' | translate }}
                  <mat-icon svgIcon="picsa_options_male"></mat-icon>
                </div>
                <button
                  mat-button
                  color="primary"
                  (click)="handleRemovingBenefits(i)"
                  [disabled]="!benefits[i] || !benefits[i].benefit"
                >
                  <mat-icon>close</mat-icon>
                </button>
              </div>
            </div>
            <button style="float: left; margin-top: 7px" (click)="handleMoreBenefits()" mat-button>
              + {{ 'Add benefit' | translate }}
            </button>
          </div>
        </div>
        <div class="ButtonSection">
          <button matStepperPrevious mat-button>{{ 'Back' | translate }}</button>
          <button mat-raised-button color="primary" [disabled]="!(benefits.length > 0)" matStepperNext>
            {{ 'Next' | translate }}
          </button>
        </div>
      </div>
    </mat-step>

    <!-- Performance -->
    <mat-step matStepContent>
      <ng-template matStepLabel>{{ 'Performance' | translate }}</ng-template>
      <div class="StepContainer">
        <div class="StepTitle">{{ 'Performance in high, mid and low RF (rainfall)' | translate }}?</div>
        <div class="StepContent">
          <div class="performenceItemHolders">
            <div class="performenceItem">
              <div style="font-weight: 700">{{ 'High RF' | translate }}</div>
              <mat-icon  svgIcon="picsa_options_bad_rain"></mat-icon>
              <div class="emoji-wrapper">
                <div style="text-align: center;">
                    <mat-icon [ngStyle]="{'opacity': perfomanceValues.highRf !== 'bad' ? '0.3' : '1'}" svgIcon="picsa_options_thumbs_down" class="emoji_size"></mat-icon>
                 <div style="margin-top: 5px;">{{ 'Bad' | translate }}</div>
                </div>
                <div style="text-align: center;">
                  <mat-icon [ngStyle]="{'opacity': perfomanceValues.highRf !== 'ok' ? '0.3' : '1'}" svgIcon="picsa_options_fist_bump" class="emoji_size"></mat-icon>
                  <div style="margin-top: 5px;">{{ 'Ok' | translate }}</div>
                </div>
                <div style="text-align: center;">
                  <mat-icon [ngStyle]="{'opacity': perfomanceValues.highRf !== 'good' ? '0.3' : '1'}" svgIcon="picsa_options_thumbs_up" class="emoji_size"></mat-icon>
                  <div style="margin-top: 5px;">{{ 'Good' | translate }}</div>
                </div>
                </div>
              <input type="range" min="0" max="2" [ngModel]="perfomanceValues.highRf === 'bad' ? 0 : perfomanceValues.highRf === 'ok'?1 : 2"  (input)="updatePerformance($event, 'high')" style="margin-top: 5px;">  
            </div>

            <div class="performenceItem">
              <div style="font-weight: 700">{{ 'Mid RF' | translate }}</div>
              <mat-icon svgIcon="picsa_options_mid_rain">water_drop</mat-icon>
              <div class="emoji-wrapper">
                <div style="text-align: center;">
                    <mat-icon [ngStyle]="{'opacity': perfomanceValues.midRf !== 'bad' ? '0.3' : '1'}" svgIcon="picsa_options_thumbs_down" class="emoji_size"></mat-icon>
                 <div style="margin-top: 5px;">{{ 'Bad' | translate }}</div>
                </div>
                <div style="text-align: center;">
                  <mat-icon [ngStyle]="{'opacity': perfomanceValues.midRf !== 'ok' ? '0.3' : '1'}" svgIcon="picsa_options_fist_bump" class="emoji_size"></mat-icon>
                  <div style="margin-top: 5px;">{{ 'Ok' | translate }}</div>
                </div>
                <div style="text-align: center;">
                  <mat-icon [ngStyle]="{'opacity': perfomanceValues.midRf !== 'good' ? '0.3' : '1'}" svgIcon="picsa_options_thumbs_up" class="emoji_size"></mat-icon>
                  <div style="margin-top: 5px;">{{ 'Good' | translate }}</div>
                </div>
                </div>
              <input type="range" min="0" max="2" [ngModel]="perfomanceValues.midRf === 'bad' ? 0 : perfomanceValues.midRf === 'ok'?1 : 2"  (input)="updatePerformance($event, 'mid')" style="margin-top: 5px;">  
            </div>
            <div class="performenceItem">
              <div style="font-weight: 700">{{ 'Low RF' | translate }}</div>
              <mat-icon svgIcon="picsa_options_low_rain">water_drop</mat-icon>
              <div class="emoji-wrapper">
                <div style="text-align: center;">
                    <mat-icon [ngStyle]="{'opacity': perfomanceValues.lowRf !== 'bad' ? '0.3' : '1'}" svgIcon="picsa_options_thumbs_down" class="emoji_size"></mat-icon>
                 <div style="margin-top: 5px;">{{ 'Bad' | translate }}</div>
                </div>
                <div style="text-align: center;">
                  <mat-icon [ngStyle]="{'opacity': perfomanceValues.lowRf !== 'ok' ? '0.3' : '1'}" svgIcon="picsa_options_fist_bump" class="emoji_size"></mat-icon>
                  <div style="margin-top: 5px;">{{ 'Ok' | translate }}</div>
                </div>
                <div style="text-align: center;">
                  <mat-icon [ngStyle]="{'opacity': perfomanceValues.lowRf !== 'good' ? '0.3' : '1'}" color="#a01222" svgIcon="picsa_options_thumbs_up" class="emoji_size"></mat-icon>
                  <div style="margin-top: 5px;">{{ 'Good' | translate }}</div>
                </div>
                </div>
              <input type="range" min="0" max="2" [ngModel]="perfomanceValues.lowRf === 'bad' ? 0 : perfomanceValues.lowRf === 'ok'?1 : 2"  (input)="updatePerformance($event, 'low')" style="margin-top: 5px;">  
            </div>
          </div>
        </div>
        <div class="ButtonSection">
          <button mat-button matStepperPrevious>{{ 'Back' | translate }}</button>
          <button
            mat-raised-button
            color="primary"
            [disabled]="!(perfomanceValues.lowRf && perfomanceValues.midRf && perfomanceValues.highRf)"
            matStepperNext
          >
            {{ 'Next' | translate }}
          </button>
        </div>
      </div>
    </mat-step>

    <!-- Investment -->
    <mat-step matStepContent>
      <ng-template matStepLabel>{{ 'Investment' | translate }}</ng-template>
      <div class="StepContainer">
        <div class="StepTitle">{{ 'Investment in terms of money and time' | translate }}?</div>
        <div class="StepContent">
          <div
            style="
              display: flex;
              justify-content: space-evenly;
              gap: 1rem;
              width: 100%;
              flex-direction: row;
              margin-bottom: 1.5rem;
              margin-top: 2rem;
            "
          >
            <div class="performenceItem">
              <div style="font-weight: 700" > 
                {{ 'Money' | translate }}
             
              </div>
              <mat-icon  svgIcon="picsa_options_cash"></mat-icon>
              <div class="emoji-wrapper">
                <div style="text-align: center;">
                    <mat-icon [ngStyle]="{'opacity': investmentValues.money !== 'low' ? '0.3' : '1'}" svgIcon="picsa_options_thumbs_down" class="emoji_size"></mat-icon>
                 <div style="margin-top: 5px;">{{ 'Low' | translate }}</div>
                </div>
                <div style="text-align: center;">
                  <mat-icon [ngStyle]="{'opacity': investmentValues.money !== 'mid' ? '0.3' : '1'}" svgIcon="picsa_options_fist_bump" class="emoji_size"></mat-icon>
                  <div style="margin-top: 5px;">{{ 'Mid' | translate }}</div>
                </div>
                <div style="text-align: center;">
                  <mat-icon [ngStyle]="{'opacity': investmentValues.money!== 'high' ? '0.3' : '1'}" svgIcon="picsa_options_thumbs_up" class="emoji_size"></mat-icon>
                  <div style="margin-top: 5px;">{{ 'High' | translate }}</div>
                </div>
                </div>
              <input type="range" min="0" max="2" [ngModel]="investmentValues.money === 'low' ? 0 : investmentValues.money === 'mid'?1 : 2"  (input)="updateInvestmentEffort($event, 'money')" style="margin-top: 5px;">  
            </div>
            <div class="performenceItem">
              <div style="font-weight: 700;">
                {{ 'Time' | translate }}
                
              </div>
              <mat-icon  svgIcon="picsa_options_clork"></mat-icon>
              <div class="emoji-wrapper">
                <div style="text-align: center;">
                    <mat-icon [ngStyle]="{'opacity': investmentValues.time !== 'low' ? '0.3' : '1'}" svgIcon="picsa_options_thumbs_down" class="emoji_size"></mat-icon>
                 <div style="margin-top: 5px;">{{ 'Low' | translate }}</div>
                </div>
                <div style="text-align: center;">
                  <mat-icon [ngStyle]="{'opacity': investmentValues.time !== 'mid' ? '0.3' : '1'}" svgIcon="picsa_options_fist_bump" class="emoji_size"></mat-icon>
                  <div style="margin-top: 5px;">{{ 'Mid' | translate }}</div>
                </div>
                <div style="text-align: center;">
                  <mat-icon [ngStyle]="{'opacity': investmentValues.time!== 'high' ? '0.3' : '1'}" svgIcon="picsa_options_thumbs_up" class="emoji_size"></mat-icon>
                  <div style="margin-top: 5px;">{{ 'High' | translate }}</div>
                </div>
                </div>
              <input type="range" min="0" max="2" [ngModel]="investmentValues.time === 'low' ? 0 : investmentValues.time === 'mid'?1 : 2"  (input)="updateInvestmentEffort($event, 'time')" style="margin-top: 5px;"> 
            </div>
          </div>
        </div>
        <div class="ButtonSection">
          <button mat-button matStepperPrevious>{{ 'Back' | translate }}</button>
          <button
            mat-raised-button
            color="primary"
            [disabled]="!(investmentValues.money && investmentValues.time)"
            matStepperNext
          >
            {{ 'Next' | translate }}
          </button>
        </div>
      </div>
    </mat-step>

    <!-- Time -->
    <mat-step matStepContent>
      <ng-template matStepLabel>{{ 'Time' | translate }}</ng-template>
      <div class="StepContainer">
        <div class="StepTitle">{{ 'Time to start benefiting' | translate }}</div>
        <div class="StepContent">
          <div class="form-group">
            <label style="font-weight: 700; display: flex; flex-direction: column; align-items: center; gap: 10px;"
              >{{ 'Time (months)' | translate }}
       
              <mat-icon svgIcon="picsa_options_calender_time" style="padding-bottom: 10px; "></mat-icon></label>
            <input [(ngModel)]="benefitsStartTime" (keypress)="onlyNumbers($event)" class="form-control" />
          </div>
        </div>
        <div class="ButtonSection">
          <button matStepperPrevious mat-button>{{ 'Back' | translate }}</button>
          <button mat-raised-button color="primary" [disabled]="!benefitsStartTime" matStepperNext>
            {{ 'Next' | translate }}
          </button>
        </div>
      </div>
    </mat-step>

    <!-- Risk -->
    <mat-step matStepContent>
      <ng-template matStepLabel>{{ 'Risk' | translate }}</ng-template>
      <div class="StepContainer">
        <div class="StepTitle">{{ 'Risk of practice (disadvantage)' | translate }}</div>
        <div class="StepContent">
          <div class="form-group">
            <label style="font-weight: 700; display: flex; flex-direction: column; align-items: center; gap: 10px;"
              >
              <mat-icon svgIcon="picsa_options_risks" style="padding-bottom: 10px; "></mat-icon>
            </label>
            <input style="margin-left: 4px" [(ngModel)]="risk" class="form-control" />
          </div>
        </div>
        <div class="ButtonSection">
          <button matStepperPrevious mat-button>{{ 'Back' | translate }}</button>
          <button mat-raised-button color="primary" [disabled]="!risk" (click)="submitForm()">
            {{ 'Finish' | translate }}
          </button>
        </div>
      </div>
    </mat-step>
  </mat-stepper>
</div>
