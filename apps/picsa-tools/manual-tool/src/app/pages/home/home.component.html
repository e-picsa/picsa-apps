<div class="page-content">
  <div class="pdf-container slide-in" [class.active]="pageNumber()">
    @if (pdfSrc(); as src) {
      <picsa-pdf-viewer [page]="pageNumber()" [src]="src">
        <back-button style="margin-right: 8px" variant="primary"></back-button>
      </picsa-pdf-viewer>
    }
  </div>

  <picsa-manual-select
    class="w-full my-4 overflow-x-auto"
    (manualSelected)="handleManualSelected($event)"
  ></picsa-manual-select>

  <!-- Download -->
  @if (showDownloadPrompt()) {
    <picsa-alert-box
      [style.display]="showDownloadPrompt() ? 'block' : 'none'"
      type="info"
      [title]="'Download the PICSA Manual' | translate"
      class="mt-8 w-full max-w-80 mx-auto"
    >
      @if (manualDoc(); as doc) {
        <div class="flex justify-center">
          <resource-download
            [resource]="doc._data"
            (fileDownloaded)="handleManualDownloaded($event)"
          ></resource-download>
        </div>
      }
    </picsa-alert-box>
  }
  <!-- Steps -->
  @else {
    @if (pdfSrc()) {
      <picsa-manual-steps-container [stepData]="manualContents()" [@fadeInOut]></picsa-manual-steps-container>
    }
  }
</div>
