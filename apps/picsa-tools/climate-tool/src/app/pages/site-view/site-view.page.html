<div class="page-content">
  <mat-sidenav-container
    style="flex: 1"
    [style.marginTop.px]="mobileQuery.matches ? 56 : 0"
  >
    <!-- Options sidebar -->
    <!-- <mat-sidenav
      #snav
      [mode]="mobileQuery.matches ? 'over' : 'side'"
      [fixedInViewport]="mobileQuery.matches"
      fixedTopGap="56"
      position="end"
    > -->
    <mat-sidenav
      #snav
      mode="side"
      [fixedInViewport]="mobileQuery.matches"
      fixedTopGap="56"
      position="end"
      style="width: 300px"
      [opened]="true"
    >
      <climate-chart-options style="padding: 8px"></climate-chart-options>
    </mat-sidenav>
    <!-- Main content -->
    <mat-sidenav-content class="page-content">
      <!-- export menu -->

      <!-- charts -->

      <div
        *ngIf="chartService.chartDefinition && chartService.station"
        style="flex: 1"
      >
        <climate-chart
          [definition]="chartService.chartDefinition"
          [data]="$any(chartService.station.summaries)"
        ></climate-chart>
      </div>

      <!-- reports -->
      <div *ngIf="activeView === 'cropAnalysis'" style="flex: 1">
        <climate-crop-analysis></climate-crop-analysis>
      </div>
      <!-- <climate-combined-probability></climate-combined-probability> -->
    </mat-sidenav-content>
  </mat-sidenav-container>
</div>

<picsa-animation
  name="rotate-phone"
  *ngIf="showRotateAnimation"
  [loops]="2"
  position="float"
  [delay]="2000"
></picsa-animation>
