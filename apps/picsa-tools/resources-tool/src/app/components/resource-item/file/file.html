<!-- TODO - should remove overlay and css from component to use in parent instead -->

<!-- TODO - should be able to refactor video item to be included here -->
<div style="position: relative; max-width: 854px; margin: auto">
  @if(fileURI){
  <resource-share class="share-link" [link]="dbDoc.url" [uri]="fileURI"></resource-share>
  }

  <!-- Download overlay -->
  <div
    class="download-overlay"
    [style.visibility]="attachment ? 'hidden' : 'visible'"
    [attr.data-file-type]="dbDoc?.subtype || null"
  >
    <div class="mat-elevation-z8; border-radius: 8px;">
      <resource-download
        *ngIf="dbDoc"
        [dbDoc]="dbDoc"
        class="download-button"
        styleVariant="white"
        [size]="36"
        [hideOnComplete]="true"
        [showSize]="true"
        (attachmentChange)="handleAttachmentChange($event)"
      ></resource-download>
    </div>
  </div>

  @switch (resource.subtype) { @case ('video') {
  <resource-item-video [resource]="resource" [fileURI]="fileURI"></resource-item-video>

  } @default {
  <resource-item-link [resource]="resourceLink" (click)="handleFileLinkClick($event)" style="height: 100%">
  </resource-item-link>

  } }
</div>
