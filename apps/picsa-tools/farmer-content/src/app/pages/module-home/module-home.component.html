<div class="page-content">
  <!-- Main Content -->

  @if(content(); as content){
  <div @fadeInOut>
    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
      @for(step of content.steps; track $index){
      <mat-card class="flex flex-col">
        <mat-card-title class="step-title">{{ $index + 1 }}. {{ step.title | translate }}</mat-card-title>
        <div class="flex-1">
          @switch (step.type) {
          <!-- Video -->
          @case('video'){
          <farmer-step-video [videoData]="step.video"></farmer-step-video>
          }
          <!-- Video Playlist-->
          @case('videoPlaylist'){
          <farmer-step-video-playlist [videos]="step.videos"></farmer-step-video-playlist>

          }
          <!-- Review -->
          @case ('review') { @if(photoAlbum(); as album){
          <div class="p-2">
            <p>{{ 'If you recorded anything on paper you can capture photos and save' | translate }}</p>
            <picsa-photo-list [album]="album"></picsa-photo-list>
            <picsa-photo-input class="mt-2" [album]="album" style="margin-top: 2rem"></picsa-photo-input>
          </div>

          } } @case ('tool') {
          <!-- TODO - tool -->
          } }
        </div>
      </mat-card>

      }
    </div>
  </div>

  }
</div>
<!-- Footer -->
<farmer-module-footer [totalSections]="1" [selectedIndex]="1"></farmer-module-footer>

<!-- TODO - footer navigation between units -->

<!-- TODO - track video viewed state from step videos (e.g. checkmark) -->

<!-- <div>{{ step | json }}</div> -->
<!-- @if (selectedIndex() === $index) {
      <div class="tab-content" [attr.data-tool-content]="toolTabIndex() === $index">
        @for(block of step; track $index){ @switch (block.type) {

        @case ('text') { @if(block.title){
        <h2 class="px-4">{{ block.title | translate }}</h2>
        } @if(block.text) {
        <p class="px-4">{{ block.text | translate }}</p>
        } }
         } }
      </div>
      } -->
